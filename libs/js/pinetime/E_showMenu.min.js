(function(n){function w(a,b){var k=a.step||1;if(!a.noList&&void 0!==a.min&&void 0!==a.max&&20>(a.max-a.min)/k)E.showScroller({h:40,c:(a.max+k-a.min)/k,back:q,remove:l.remove,scrollMin:0,scroll:0,draw:function(d,c){g.setBgColor("#000").clearRect(c.x,c.y,c.x+c.w-1,c.y+c.h-1);g.setColor(g.theme.bg2).fillRect({x:c.x+4,y:c.y+2,w:c.w-8,h:c.h-4,r:5});d=d*k+a.min;g.setColor(g.theme.fg2).setFont24().setFontAlign(-1,0).drawString(a.format?a.format(d,1):d,c.x+12,c.y+20);g.drawImage(atob(d==a.value?
"FBSBAAH4AH/gHgeDgBww8MY/xmf+bH/jz/88//PP/zz/88f+Nn/mY/xjDww4AcHgeAf+AB+A":"FBSBAAH4AH/gHgeDgBwwAMYABmAAbAADwAA8AAPAADwAA8AANgAGYABjAAw4AcHgeAf+AB+A"),c.x+c.w-32,c.y+20-10)},select:function(d){if(!(0>d)){Pinetime.buzz(20);a.value=a.min+d*k;if(a.onchange)a.onchange(a.value);r.scroll=m.scroller.scroll;q()}}});else{var f=function(){var d=e.x+e.w/2,c=12+e.y+e.h/2,u=a.format?a.format(h,2):h;g.reset().setColor(g.theme.bg2).fillRect({x:e.x+24,y:e.y+36,w:e.w-48,h:e.h-48,r:5});g.setColor(g.theme.fg2).setFontVector(Math.min(30,
100*(e.w-52)/g.setFontVector(100).stringWidth(u))).setFontAlign(0,0).drawString(u,d,c);g.setColor(h==a.max?"#333":g.theme.fg2).fillPoly([d,c-45,d+15,c-30,d-15,c-30]);g.setColor(h==a.min?"#333":g.theme.fg2).fillPoly([d,c+45,d+15,c+30,d-15,c+30]);g.flip()},e=Pinetime.appRect,h=a.value;g.reset().clearRect(Pinetime.appRect);Pinetime.setUI({mode:"supdown",back:q,remove:l.remove,redraw:f()},function(d){if(d)h-=(d||1)*(a.step||1),void 0!==a.min&&h<a.min&&(h=a.wrap?a.max:a.min),void 0!==a.max&&h>a.max&&(h=
a.wrap?a.min:a.max),f();else{a.value=h;if(a.onchange)a.onchange(a.value);r.scroll=m.scroller.scroll;q()}})}}function q(){m.scroller=E.showScroller(r)}if(void 0===n)return g.clearRect(Pinetime.appRect),Pinetime.setUI();var l=n[""]||{};l.title||(l.title="Menu");var t=l.back||n["< Back"],p=Object.keys(n).filter(function(a){return""!==a&&"< Back"!=a});p.forEach(function(a){a=n[a];"object"!=typeof a||"boolean"!=typeof a.value||a.format||(a.format=function(b){return"\x00"+atob(b?"EhKBAH//v/////////////5//x//j//H+eP+Mf/A//h//z//////////3//g":
"EhKBAH//v//8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA8AA///3//g")})});var m={draw:function(){return m.scroller.draw()},scroller:void 0},v,r={h:40,c:p.length,scrollMin:-40,scroll:null!=(v=l.scroll)?v:-40,back:t,remove:l.remove,draw:function(a,b){if(0>a)return g.setBgColor(g.theme.bgH).clearRect(b.x,b.y,b.x+b.w-1,b.y+b.h-1).setColor(g.theme.fg).setFont24().setFontAlign(-1,0).drawString("\x00\f\f\x81\x00\xff\xff\xff\x00\x00\x00\x00\x0f\xff\xff\xf0\x00\x00\x00\x00\xff\xff\xff "+l.title,
b.x+12,b.y+40-18);g.setBgColor("#000").clearRect(b.x,b.y,b.x+b.w-1,b.y+b.h-1);g.setColor(g.theme.bg2).fillRect({x:b.x+4,y:b.y+2,w:b.w-8,h:b.h-4,r:5});g.setColor(g.theme.fg2).setFont24();var k=24,f=n[p[a]];if("object"==typeof f){if(void 0!=f.value){var e=f.value;f.format&&(e=f.format(e));g.stringMetrics(e).width>b.w/2&&(e=g.wrapString(e,b.w/2).join("\n"));g.setFontAlign(1,0).drawString(e,b.x+b.w-8,b.y+20);k+=g.stringWidth(e)}}else"function"==typeof f&&(g.drawImage(atob("CRKBAGA4Hg8DwPB4HgcDg8PB4eHg8HAwAA=="),
b.x+b.w-21,b.y+20-9),k+=16);var h;f=null!=(h=f&&f.title)?h:p[a];a=g.wrapString(f,b.w-k);1<a.length&&(a=g.setFont24().wrapString(f,b.w-k));g.setFontAlign(-1,0).drawString(a.join("\n"),b.x+12,b.y+20)},select:function(a){if(0>a)return t&&t();var b=n[p[a]];Pinetime.buzz(20);if("function"==typeof b)b(m);else if("object"==typeof b)if("number"==typeof b.value)w(b,p[a]);else{"boolean"==typeof b.value&&(b.value=!b.value);if(b.onchange)b.onchange(b.value);m.scroller.isActive()&&m.scroller.drawItem(a)}}};q();
return m})